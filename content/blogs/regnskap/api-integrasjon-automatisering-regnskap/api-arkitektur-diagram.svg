<svg width="800" height="500" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="layerGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#007bff;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#0056b3;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="dataGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#28a745;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1e7e34;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="securityGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#ffc107;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#e0a800;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="bgGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f8f9fa;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#e9ecef;stop-opacity:1" />
    </linearGradient>
  </defs>
  
  <!-- Background -->
  <rect width="800" height="500" fill="url(#bgGradient)" stroke="#dee2e6" stroke-width="2"/>
  
  <!-- Title -->
  <text x="400" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#212529">
    API Arkitektur Diagram
  </text>
  
  <!-- Presentation Layer -->
  <rect x="50" y="60" width="700" height="60" rx="10" fill="url(#layerGradient)" stroke="#0056b3" stroke-width="2"/>
  <text x="400" y="85" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">
    PRESENTASJONSLAG
  </text>
  <text x="400" y="105" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">
    Web Interface • Mobile App • Desktop Client
  </text>
  
  <!-- API Gateway Layer -->
  <rect x="50" y="140" width="700" height="60" rx="10" fill="url(#securityGradient)" stroke="#e0a800" stroke-width="2"/>
  <text x="400" y="165" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#212529">
    API GATEWAY
  </text>
  <text x="400" y="185" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#212529">
    Autentisering • Rate Limiting • Load Balancing • Logging
  </text>
  
  <!-- Business Logic Layer -->
  <rect x="50" y="220" width="700" height="80" rx="10" fill="url(#layerGradient)" stroke="#0056b3" stroke-width="2"/>
  <text x="400" y="245" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">
    FORRETNINGSLOGIKK
  </text>
  
  <!-- Microservices -->
  <rect x="80" y="260" width="120" height="30" rx="5" fill="white" stroke="#0056b3" stroke-width="1"/>
  <text x="140" y="280" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#0056b3">
    Regnskap Service
  </text>
  
  <rect x="220" y="260" width="120" height="30" rx="5" fill="white" stroke="#0056b3" stroke-width="1"/>
  <text x="280" y="280" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#0056b3">
    Faktura Service
  </text>
  
  <rect x="360" y="260" width="120" height="30" rx="5" fill="white" stroke="#0056b3" stroke-width="1"/>
  <text x="420" y="280" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#0056b3">
    Bank Service
  </text>
  
  <rect x="500" y="260" width="120" height="30" rx="5" fill="white" stroke="#0056b3" stroke-width="1"/>
  <text x="560" y="280" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#0056b3">
    Lønn Service
  </text>
  
  <rect x="640" y="260" width="120" height="30" rx="5" fill="white" stroke="#0056b3" stroke-width="1"/>
  <text x="700" y="280" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#0056b3">
    Rapport Service
  </text>
  
  <!-- Data Access Layer -->
  <rect x="50" y="320" width="700" height="60" rx="10" fill="url(#dataGradient)" stroke="#1e7e34" stroke-width="2"/>
  <text x="400" y="345" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">
    DATATILGANGSLAG
  </text>
  <text x="400" y="365" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">
    ORM • Database Connections • Caching • Data Validation
  </text>
  
  <!-- Database Layer -->
  <rect x="50" y="400" width="700" height="60" rx="10" fill="#6c757d" stroke="#495057" stroke-width="2"/>
  <text x="400" y="425" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">
    DATABASE
  </text>
  <text x="400" y="445" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">
    PostgreSQL • MongoDB • Redis Cache • File Storage
  </text>
  
  <!-- External APIs -->
  <rect x="50" y="480" width="150" height="15" rx="5" fill="#dc3545" stroke="#c82333" stroke-width="1"/>
  <text x="125" y="492" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
    Bank API
  </text>
  
  <rect x="220" y="480" width="150" height="15" rx="5" fill="#dc3545" stroke="#c82333" stroke-width="1"/>
  <text x="295" y="492" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
    ERP API
  </text>
  
  <rect x="390" y="480" width="150" height="15" rx="5" fill="#dc3545" stroke="#c82333" stroke-width="1"/>
  <text x="465" y="492" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
    Altinn API
  </text>
  
  <rect x="560" y="480" width="150" height="15" rx="5" fill="#dc3545" stroke="#c82333" stroke-width="1"/>
  <text x="635" y="492" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
    eFaktura API
  </text>
  
  <!-- Connection arrows -->
  <defs>
    <marker id="arrowDown" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#6c757d"/>
    </marker>
  </defs>
  
  <!-- Vertical arrows -->
  <line x1="400" y1="120" x2="400" y2="140" stroke="#6c757d" stroke-width="2" marker-end="url(#arrowDown)"/>
  <line x1="400" y1="200" x2="400" y2="220" stroke="#6c757d" stroke-width="2" marker-end="url(#arrowDown)"/>
  <line x1="400" y1="300" x2="400" y2="320" stroke="#6c757d" stroke-width="2" marker-end="url(#arrowDown)"/>
  <line x1="400" y1="380" x2="400" y2="400" stroke="#6c757d" stroke-width="2" marker-end="url(#arrowDown)"/>
  
  <!-- External API connections -->
  <line x1="125" y1="460" x2="125" y2="480" stroke="#dc3545" stroke-width="1" marker-end="url(#arrowDown)"/>
  <line x1="295" y1="460" x2="295" y2="480" stroke="#dc3545" stroke-width="1" marker-end="url(#arrowDown)"/>
  <line x1="465" y1="460" x2="465" y2="480" stroke="#dc3545" stroke-width="1" marker-end="url(#arrowDown)"/>
  <line x1="635" y1="460" x2="635" y2="480" stroke="#dc3545" stroke-width="1" marker-end="url(#arrowDown)"/>
</svg>